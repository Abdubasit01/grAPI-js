const yargs = require('yargs/yargs');const { hideBin } = require('yargs/helpers');const { interceptApis, saveOutput, generatePostmanCollection, BANNER } = require('./core');async function main() {    console.log(BANNER);    const argv = yargs(hideBin(process.argv))        .usage('Usage: $0 --url <target_url> [options]')        .option('url', { alias: 'u', describe: 'Target page URL', type: 'string', demandOption: true })        .option('timeout', { alias: 't', describe: 'Page load timeout (seconds). Enter 0 for unlimited.', type: 'number', default: 60 })        .option('scroll', { alias: 's', describe: 'Auto-scroll the page to trigger lazy-loaded content.', type: 'boolean', default: false })        .option('output', { alias: 'o', describe: 'Output file (.json or .txt)', type: 'string' })        .option('postman', { alias: 'p', describe: 'Postman collection file (.postman.json)', type: 'string' })        .help()        .argv;    const endpoints = await interceptApis(argv.url, argv.timeout, argv.scroll);    if (endpoints.size > 0) {        console.log(`
[+] Total API endpoints captured: ${endpoints.size}`);    } else {        console.log('[!] No API endpoints detected.');    }    if (argv.output) {        saveOutput(endpoints, argv.output);    }    if (argv.postman) {        generatePostmanCollection(endpoints, argv.postman);    }}module.exports = { main };